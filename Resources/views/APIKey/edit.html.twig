{% extends "DellaertWebappDeploymentBundle::layout.html.twig" %}

{% block content %}
    {% if form is defined %}
        <h1>Edit API key: {{ entity.name }}</h1>
        <form action="{{ path('APIKeyEdit', { 'id': entity.id }) }}" method="post" {{ form_enctype(form) }}>
            {{ form_widget(form) }}
            <input class="button save left" type="submit" value="Save" /><input class="button middle" type="reset" value="Reset" /><a href="{{ path('APIKeyViewSlug',{ 'slug': entity.slug }) }}" class="button right delete">Cancel</a>
        </form>
    {% elseif entity is defined %}
        <script type="text/javascript">
        setTimeout(function() {
              window.location.href = "{{ path('APIKeyViewSlug',{ 'slug': entity.slug }) }}";
            }, 3000);
        </script>
        <h1>API key changed: {{ entity.name }}</h1>
        <p>You will be returned to the API key's page in 3 seconds...</p>
    {% else %}
        <h1>Unknown API key</h1>
        <p>The specified API key is not available.</p>
    {% endif %}
{% endblock %}
