{% extends "DellaertWebappDeploymentBundle::layout.html.twig" %}

{% block content %}
	{% if form is defined %}
	    <h1>Add API Key</h1>
	    <form action="{{ path('APIKeyAdd') }}" method="post" {{ form_enctype(form) }}>
	    	{{ form_widget(form) }}
	    	<input class="button save left" type="submit" value="Save" /><input class="button middle" type="reset" value="Clear" /><a href="{{ path('APIKeyList') }}" class="button right delete">Cancel</a>
	    </form>
    {% elseif entity is defined %}
    	<script type="text/javascript">
    	setTimeout(function() {
    		  window.location.href = "{{ path('APIKeyList') }}";
    		}, 30000);
    	</script>
    	<h1>API Key added: {{ entity.name }}</h1>
        <p><b>The API key is</b>: {{ entity.apikey }}<p>
    	<p>You will be returned to the <a href="{{ path('APIKeyList') }}">API key list</a> in 30 seconds...</p>
    {% endif %}
{% endblock %}
